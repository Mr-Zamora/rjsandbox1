{% extends "base.html" %}

{% block title %}Recipe Details - Filipino Recipes{% endblock %}

{% block content %}
<main class="recipe-content" role="main">
    <img src="{{ url_for('static', filename=recipe.image_path) }}" alt="{{ recipe.image_alt }}" class="recipe-image">

    <article class="recipe-details-container">
        <div class="recipe-actions">
            <a href="{{ url_for('edit_recipe', recipe_id=recipe.id) }}" class="action-link" aria-label="Edit this recipe">Edit</a>
            <form action="{{ url_for('delete_recipe', recipe_id=recipe.id) }}" method="post" class="inline-form" onsubmit="return confirm('Are you sure you want to delete this recipe?');">
                <button type="submit" class="action-link" aria-label="Delete this recipe">Delete</button>
            </form>
        </div>

        <h1>{{ recipe.name }}</h1>
        <p class="recipe-description">{{ recipe.long_description }}</p>

        <section class="ingredients-section">
            <h2 class="section-title">Ingredients</h2>
            <ul>
                {% for item in recipe.ingredients %}
                <li>{{ item }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="directions-section">
            <h2 class="section-title">Directions</h2>
            <ol>
                {% for step in recipe.directions %}
                <li>{{ step }}</li>
                {% endfor %}
            </ol>
        </section>

        <footer class="recipe-meta">
            <div class="recipe-info" data-recipe-id="{{ recipe.id }}" data-category="{{ recipe.category }}">
                {% if recipe.prep_time %}<span class="prep-time">Prep: {{ recipe.prep_time }}</span>{% endif %}
                {% if recipe.cook_time %}<span class="cook-time">Cook: {{ recipe.cook_time }}</span>{% endif %}
                {% if recipe.difficulty %}<span class="difficulty">Difficulty: {{ recipe.difficulty }}</span>{% endif %}
            </div>
        </footer>
    </article>
</main>
{% endblock %}
